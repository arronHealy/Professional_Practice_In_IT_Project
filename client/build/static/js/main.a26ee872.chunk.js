(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t){e.exports="data:image/jpeg;base64,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"},22:function(e,t,a){e.exports=a.p+"static/media/noBookImage.625d1aff.jpg"},43:function(e,t,a){e.exports=a.p+"static/media/spinner.f0d26039.gif"},45:function(e,t,a){e.exports=a(78)},50:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(38),l=a.n(o),c=(a(50),a(1)),s=a(2),i=a(4),m=a(3),u=a(5),p=a(82),d=a(79),b=a(83),h=a(7),f=a(19),E=a(40),v=a(11),A="GET_ERRORS",g=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},y={isAuthenticated:!1,user:{}},N={},O={profile:null,profiles:null,post:{},loading:!1,cart:[],books:[]},k=a(44),j={posts:[],post:{},loading:!1},C=Object(f.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(v.a)({},e,{isAuthenticated:!g(t.payload),user:t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return t.payload;case"CLEAR_ERRORS":return{};default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE_LOADING":return Object(v.a)({},e,{loading:!0});case"GET_PROFILE":return Object(v.a)({},e,{profile:t.payload,loading:!1});case"CLEAR_CURRENT_PROFILE":return Object(v.a)({},e,{profile:null});case"GET_PROFILES":return Object(v.a)({},e,{profiles:t.payload,loading:!1});case"ADD_PROFILE_POST":case"DELETE_PROFILE_POST":return Object(v.a)({},e,{profile:Object(v.a)({},e.profile,{reviews:t.payload})});case"GET_PROFILE_POST":return Object(v.a)({},e,{post:t.payload,loading:!1});case"ADD_PROFILE_COMMENT":case"DELETE_PROFILE_COMMENT":return Object(v.a)({},e,{post:Object(v.a)({},e.post,{comments:t.payload})});case"GET_CART":case"ADD_TO_CART":case"REMOVE_BOOK":return Object(v.a)({},e,{cart:t.payload});case"GET_SEARCH_RESULT":return Object(v.a)({},e,{books:t.payload});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_LOADING":return Object(v.a)({},e,{loading:!0});case"GET_POSTS":return Object(v.a)({},e,{posts:t.payload,loading:!1});case"GET_POST":return Object(v.a)({},e,{post:t.payload,loading:!1});case"ADD_POST":return Object(v.a)({},e,{posts:[t.payload].concat(Object(k.a)(e.posts))});case"DELETE_POST":return Object(v.a)({},e,{posts:e.posts.filter(function(e){return e._id!==t.payload})});default:return e}}}),w=[E.a],S=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||f.d,x=Object(f.e)(C,{},S(f.a.apply(void 0,w))),P=a(23),L=a.n(P),I=a(10),R=a.n(I),T=function(e){e?R.a.defaults.headers.common.Authorization=e:delete R.a.defaults.headers.common.Authorization},B=function(e){return{type:"SET_CURRENT_USER",payload:e}},_=function(){return function(e){localStorage.removeItem("jwtToken"),T(!1),e(B({}))}},D=a(41),F=a(81),U=Object(h.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(D.a)(e,["component","auth"]);return r.a.createElement(d.a,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(F.a,{to:"/login"})}}))}),G=a(12),K=a(8),W=a(80),V=function(e,t){return function(a){var n=new FormData;n.append("profileImage",e.profileImage),n.append("username",e.username),n.append("website",e.website),n.append("location",e.location),n.append("bio",e.bio),n.append("facebook",e.facebook),n.append("twitter",e.twitter),n.append("linkedin",e.linkedin),n.append("youtube",e.youtube);R.a.post("/api/profile",n,{headers:{"content-type":"multipart/form-data"}}).then(function(e){return t.push("/dashboard")}).catch(function(e){return a({type:A,payload:e.response.data})})}},M=function(){return function(e){e(X()),R.a.get("/api/profile").then(function(t){return e({type:"GET_PROFILE",payload:t.data})}).catch(function(t){return e({type:"GET_PROFILE",payload:{}})})}},q=function(){return function(e){e(X()),R.a.get("/api/profile/all").then(function(t){return e({type:"GET_PROFILES",payload:t.data})}).catch(function(t){return e({type:"GET_PROFILES",payload:null})})}},J=function(e){return function(t){R.a.put("/api/profile/cart/".concat(e)).then(function(e){return t({type:"ADD_TO_CART",payload:e.data})}).catch(function(e){return t({type:A,payload:e.response.data})})}},X=function(){return{type:"PROFILE_LOADING"}},Q=function(){return{type:"CLEAR_CURRENT_PROFILE"}},H=function(){return{type:"CLEAR_ERRORS"}},Y=function(){return{type:"POST_LOADING"}},z=a(84),Z=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={search:""},e.onChange=e.onChange.bind(Object(K.a)(Object(K.a)(e))),e.onSubmit=e.onSubmit.bind(Object(K.a)(Object(K.a)(e))),e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onChange",value:function(e){this.setState(Object(G.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={text:this.state.search};this.props.search(t),this.props.history.push("/search")}},{key:"onLogoutClick",value:function(e){e.preventDefault(),this.props.clearCurrentProfile(),this.props.logoutUser()}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated,t=this.props.cart,a=r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(W.a,{className:"nav-link",to:"/cart"},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-shopping-cart mr-2 h-25 w-25"}),r.a.createElement("span",{className:"num-books bg-success ml-1"},t.length)))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(W.a,{className:"nav-link",to:"/All-books"},"Books")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(W.a,{className:"nav-link",to:"/dashboard"},"Dashboard")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"#0",onClick:this.onLogoutClick.bind(this),className:"nav-link"},"Logout"))),n=r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(W.a,{className:"nav-link",to:"/register"},"Register")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(W.a,{className:"nav-link",to:"/login"},"Login")));return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light bg-warning mb-4"},r.a.createElement("div",{className:"container"},r.a.createElement(W.a,{className:"navbar-brand",to:"/"},"Book-King"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mobile-nav"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"mobile-nav"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(W.a,{className:"nav-link",to:"/profiles"}," ","Book Dealer Profiles")),e?r.a.createElement("li",{className:"nav-item"},r.a.createElement(W.a,{className:"nav-link",to:"/posts"},"Buyers Feed")):null),e?a:n,r.a.createElement("form",{className:"form-inline",onSubmit:this.onSubmit},r.a.createElement("input",{className:"form-control mr-sm-2 ml-2",type:"search",placeholder:"Search","aria-label":"Search",name:"search",onChange:this.onChange}),r.a.createElement("button",{className:"btn btn-success my-2 my-sm-0",type:"submit"},"Search")))))}}]),t}(n.Component),$=Object(h.b)(function(e){return{auth:e.auth,cart:e.profile.cart}},{logoutUser:_,clearCurrentProfile:Q,search:function(e){return function(t){e.text=g(e.text)?"all":e.text,R.a.get("/api/profile/search/".concat(e.text)).then(function(e){t({type:"GET_SEARCH_RESULT",payload:e.data})}).catch(function(e){return t({type:A,payload:e.response.data})})}}})(Object(z.a)(Z)),ee=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("footer",{className:"bg-dark text-light mt-5 p-4 text-center"},"Professional Practice in IT 3rd year project. Arron Healy and Mark Gilmore"))},te=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"landing"},r.a.createElement("div",{className:"landing-inner text-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 text-center"},r.a.createElement("h1",{className:"display-3 mb-4"},"Book-King"),r.a.createElement("p",{className:"lead"}," Buy and Sell Books "),r.a.createElement("hr",null),r.a.createElement(W.a,{to:"/register",className:"btn btn-lg btn-success mr-2"},"Register"),r.a.createElement(W.a,{to:"/login",className:"btn btn-lg btn-light"},"Login"))))))}}]),t}(n.Component),ae=a(9),ne=a.n(ae),re=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={email:"",password:"",errors:{}},e.onChange=e.onChange.bind(Object(K.a)(Object(K.a)(e))),e.onSubmit=e.onSubmit.bind(Object(K.a)(Object(K.a)(e))),e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/dashboard"),e.errors&&this.setState({errors:e.errors})}},{key:"onChange",value:function(e){this.setState(Object(G.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};this.props.loginUser(t)}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"display-4 text-center"},"Log In"),r.a.createElement("p",{className:"lead text-center"},"Sign in to your Book-King account"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:ne()("form-control form-control-lg",{"is-invalid":e.email}),placeholder:"Email Address",name:"email",value:this.state.email,onChange:this.onChange}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:ne()("form-control form-control-lg",{"is-invalid":e.password}),placeholder:"Password",name:"password",value:this.state.password,onChange:this.onChange}),e.password&&r.a.createElement("div",{className:"invalid-feedback"},e.password)),r.a.createElement("input",{type:"submit",className:"btn btn-success btn-block mt-4"}))))))}}]),t}(n.Component),oe=Object(h.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(t){R.a.post("/api/users/login",e).then(function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),T(a);var n=L()(a);t(B(n))}).catch(function(e){return t({type:A,payload:e.response.data})})}}})(re),le=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={name:"",email:"",password:"",password2:"",errors:{}},e.onChange=e.onChange.bind(Object(K.a)(Object(K.a)(e))),e.onSubmit=e.onSubmit.bind(Object(K.a)(Object(K.a)(e))),e}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onChange",value:function(e){this.setState(Object(G.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){e.preventDefault();var t={name:this.state.name,email:this.state.email,password:this.state.password,password2:this.state.password2};this.props.registerUser(t,this.props.history)}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"register"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"display-4 text-center"},"Register"),r.a.createElement("p",{className:"lead text-center"},"Create your Book-King account"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.name}),placeholder:"Name",name:"name",value:this.state.name,onChange:this.onChange}),e.name&&r.a.createElement("div",{className:"invalid-feedback"},e.name)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",className:ne()("form-control form-control-lg",{"is-invalid":e.email}),placeholder:"Email Address",name:"email",value:this.state.email,onChange:this.onChange}),e.email&&r.a.createElement("div",{className:"invalid-feedback"},e.email)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:ne()("form-control form-control-lg",{"is-invalid":e.password}),placeholder:"Password",name:"password",value:this.state.password,onChange:this.onChange}),e.password&&r.a.createElement("div",{className:"invalid-feedback"},e.password)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",className:ne()("form-control form-control-lg",{"is-invalid":e.password2}),placeholder:"Confirm Password",name:"password2",value:this.state.password2,onChange:this.onChange}),e.password2&&r.a.createElement("div",{className:"invalid-feedback"},e.password2)),r.a.createElement("input",{type:"submit",className:"btn btn-success btn-block mt-4"}))))))}}]),t}(n.Component),ce=Object(h.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,t){return function(a){R.a.post("/api/users/register",e).then(function(e){return t.push("/login")}).catch(function(e){return a({type:A,payload:e.response.data})})}}})(Object(z.a)(le)),se=a(43),ie=a.n(se),me=function(){return r.a.createElement("div",null,r.a.createElement("img",{src:ie.a,alt:"",style:{width:"300px",margin:"auto",display:"block"}}))},ue=function(e){var t=e.username;return r.a.createElement("div",{className:"btn-group mb-4",role:"group"},r.a.createElement(W.a,{to:"/profile/".concat(t),className:"btn btn-light"},r.a.createElement("i",{className:"fas fa-user-circle text-info mr-1"})," My Profile"),r.a.createElement(W.a,{to:"/edit-profile",className:"btn btn-light"},r.a.createElement("i",{className:"fas fa-user-circle text-info mr-1"})," Edit Profile"),r.a.createElement(W.a,{to:"/list-book",className:"btn btn-light"},r.a.createElement("i",{className:"fa fa-book text-info mr-1"})," List Book"))},pe=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onDeleteClick",value:function(e){this.props.deleteBook(e)}},{key:"render",value:function(){var e=this,t=this.props.books.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,r.a.createElement("div",{className:"w-75 h-75"},r.a.createElement("img",{src:g(t.bookImage)?a(22):t.bookImage,alt:"",height:"100",width:"5"}))),r.a.createElement("td",null,t.title),r.a.createElement("td",null,t.author),r.a.createElement("td",null,t.genre),r.a.createElement("td",null,t.condition),r.a.createElement("td",null,"\u20ac",t.price),r.a.createElement("td",null,t.description),r.a.createElement("td",null,r.a.createElement("button",{onClick:e.onDeleteClick.bind(e,t._id),className:"btn btn-danger"},"Delete")))});return r.a.createElement("div",null,r.a.createElement("h4",{className:"mb-4"},"Book List"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Book Image"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Author"),r.a.createElement("th",null,"Genre"),r.a.createElement("th",null,"Condition"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null)),t)))}}]),t}(n.Component),de=Object(h.b)(null,{deleteBook:function(e){return function(t){R.a.delete("/api/profile/list-book/".concat(e)).then(function(e){return t({type:"GET_PROFILE",payload:e.data})}).catch(function(e){return t({type:A,payload:e.response.data})})}}})(pe),be=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getCurrentProfile()}},{key:"onDeleteClick",value:function(e){this.props.deleteAccount()}},{key:"render",value:function(){var e,t=this.props.auth.user,a=this.props.profile,n=a.profile,o=a.loading;return e=null===n||o?r.a.createElement(me,null):Object.keys(n).length>0?r.a.createElement("div",null,r.a.createElement("p",{className:"lead text-muted"},"Welcome"," ",r.a.createElement(W.a,{to:"/profile/".concat(n.username)},t.name)),r.a.createElement(ue,{username:n.username}),r.a.createElement(de,{books:n.books}),r.a.createElement("div",{style:{marginBottom:"70px"}}),r.a.createElement("button",{onClick:this.onDeleteClick.bind(this),className:"btn btn-danger"},"Delete My Account")):r.a.createElement("div",null,r.a.createElement("p",{className:"lead text-muted"},"Welcome ",t.name),r.a.createElement("p",null,"You have not yet setup a profile, please add some info!"),r.a.createElement(W.a,{className:"btn btn-lg btn-success",to:"/create-profile"},"Create your Profile")),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h1",{className:"display-4"},"Dashboard"),e)}}]),t}(n.Component),he=Object(h.b)(function(e){return{profile:e.profile,auth:e.auth}},{getCurrentProfile:M,deleteAccount:function(){return function(e){window.confirm("Are you sure you want to delete your account ? This can NOT be undone !!")&&R.a.delete("/api/profile").then(function(t){return e({type:"SET_CURRENT_USER",payload:{}})}).catch(function(t){return e({type:A,payload:t.response.data})})}}})(be),fe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={username:"",website:"",location:"",bio:"",facebook:"",twitter:"",youtube:"",linkedin:"",errors:{},profileImage:null},a.onChange=a.onChange.bind(Object(K.a)(Object(K.a)(a))),a.onSubmit=a.onSubmit.bind(Object(K.a)(Object(K.a)(a))),a.onChangeFile=a.onChangeFile.bind(Object(K.a)(Object(K.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,profileImage:this.state.profileImage,website:this.state.website,location:this.state.location,bio:this.state.bio,facebook:this.state.facebook,twitter:this.state.twitter,linkedin:this.state.linkedin,youtube:this.state.youtube};this.props.createProfile(t,this.props.history)}},{key:"onChange",value:function(e){this.setState(Object(G.a)({},e.target.name,e.target.value))}},{key:"onChangeFile",value:function(e){this.setState({profileImage:e.target.files[0]})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"display-4 text-center"},"Create your Profile"),r.a.createElement("p",{className:"lead text-center"},"Let's get some info to build your profile"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.username}),placeholder:"Enter your Username",name:"username",value:this.state.username,onChange:this.onChange}),e.username&&r.a.createElement("div",{className:"invalid-feedback"},e.username)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.website}),placeholder:"Enter your Website",name:"website",value:this.state.website,onChange:this.onChange}),e.website&&r.a.createElement("div",{className:"invalid-feedback"},e.website)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter your Location",name:"location",value:this.state.location,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{type:"text",className:"form-control form-control-lg",placeholder:"Enter your Bio",name:"bio",value:this.state.bio,onChange:this.onChange}),r.a.createElement("small",{className:"d-block pb-3"},"Fill in your Bio to tell your customers about yourself and your products")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{forhtml:"exampleFormControlFile2"},"Upload your avatar"),r.a.createElement("input",{type:"file",className:"form-control-file",id:"exampleFormControlFile2",name:"profileImage",onChange:this.onChangeFile})),r.a.createElement("div",null,r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fab fa-facebook"}))),r.a.createElement("input",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.facebook}),placeholder:"Enter Facebook URL",name:"facebook",value:this.state.facebook,onChange:this.onChange}),e.facebook&&r.a.createElement("div",{className:"invalid-feedback"},e.facebook))),r.a.createElement("div",null,r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fab fa-twitter"}))),r.a.createElement("input",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.twitter}),placeholder:"Enter Twitter URL",name:"twitter",value:this.state.twitter,onChange:this.onChange}),e.twitter&&r.a.createElement("div",{className:"invalid-feedback"},e.twitter))),r.a.createElement("div",null,r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fab fa-linkedin"}))),r.a.createElement("input",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.linkedin}),placeholder:"Enter LinkedIn URL",name:"linkedin",value:this.state.linkedin,onChange:this.onChange}),e.linkedin&&r.a.createElement("div",{className:"invalid-feedback"},e.linkedin))),r.a.createElement("div",null,r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fab fa-youtube"}))),r.a.createElement("input",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.youtube}),placeholder:"Enter Youtube URL",name:"youtube",value:this.state.youtube,onChange:this.onChange}),e.youtube&&r.a.createElement("div",{className:"invalid-feedback"},e.youtube))),r.a.createElement("input",{type:"submit",value:"Submit",className:"btn btn-success btn-block mt-4"})))))}}]),t}(n.Component),Ee=Object(h.b)(function(e){return{profile:e.profile,errors:e.errors}},{createProfile:V})(Object(z.a)(fe)),ve=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.profile;return r.a.createElement("div",{className:"card card-body bg-light mb-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement("img",{src:g(e.profileImage)?a(21):e.profileImage,alt:"",className:"rounded-circle",height:"150",width:"10"})),r.a.createElement("div",{className:"col-lg-6 col-md-4 col-8"},r.a.createElement("h3",null,e.user.name),r.a.createElement("p",null,g(e.location)?"No Location info to Display":r.a.createElement("span",null,e.location)),r.a.createElement("p",null,g(e.bio)?"No Bio info to Display":r.a.createElement("span",null,e.bio)),r.a.createElement(W.a,{className:"btn btn-success",to:"/profile/"+e.username},"View Sellers Profile"))))}}]),t}(n.Component),Ae=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getProfiles()}},{key:"render",value:function(){var e,t=this.props.profile,a=t.profiles,n=t.loading;return e=null===a||n?r.a.createElement(me,null):a.length>0?a.map(function(e){return r.a.createElement(ve,{key:e._id,profile:e})}):r.a.createElement("h4",null,"No profiles found!"),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h1",{className:"display-4 text-center"},"Registered Sellers Profiles"),r.a.createElement("p",{className:"lead text-center"},"Browse and Connect with Sellers to find your favorite Books."),e)}}]),t}(n.Component),ge=Object(h.b)(function(e){return{profile:e.profile}},{getProfiles:q})(Ae),ye=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.profile;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card card-body bg-success text-white m-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2 text-center"},r.a.createElement("img",{src:g(e.profileImage)?a(21):e.profileImage,alt:"",className:"rounded-circle",height:"150",width:"10"})),r.a.createElement("div",{className:"col-lg-6 col-md-4 col-8"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h5",{className:"display-4"},e.user.name))))))}}]),t}(n.Component),Ne=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.profile,t=e.user.name.trim().split(" ")[0];return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card card-body bg-light mb-3"},r.a.createElement("h3",{className:"text-center text-success"},t,"'s Details"),r.a.createElement("div",{className:"lead"},g(e.location)?"No Location listed":r.a.createElement("div",null,r.a.createElement("h3",{className:"text-success"},"Location: "),r.a.createElement("span",null,e.location))),r.a.createElement("br",null),r.a.createElement("h3",{className:"text-success"},"Social Links:"),r.a.createElement("div",{className:"mt-2"},g(e.website)?null:r.a.createElement("a",{className:"text-dark p-2",href:e.website,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fas fa-globe fa-2x"})),g(e.socialLinks&&e.socialLinks.twitter)?null:r.a.createElement("a",{className:"text-dark p-2",href:e.socialLinks.twitter,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-twitter fa-2x"})),g(e.socialLinks&&e.socialLinks.facebook)?null:r.a.createElement("a",{className:"text-dark p-2",href:e.socialLinks.facebook,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-facebook fa-2x"})),g(e.socialLinks&&e.socialLinks.linkedin)?null:r.a.createElement("a",{className:"text-dark p-2",href:e.socialLinks.linkedin,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-linkedin fa-2x"})),g(e.socialLinks&&e.socialLinks.youtube)?null:r.a.createElement("a",{className:"text-dark p-2",href:e.socialLinks.youtube,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-youtube fa-2x"}))),r.a.createElement("br",null),r.a.createElement("div",{className:"lead"},g(e.bio)?r.a.createElement("span",null,t," does not have a Bio"):r.a.createElement("div",null,r.a.createElement("h3",{className:"text-success"},"Bio:"),r.a.createElement("span",null,e.bio))))))}}]),t}(n.Component),Oe=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"addToCart",value:function(e){this.props.addToCart(e)}},{key:"render",value:function(){var e=this.props.book;return r.a.createElement("div",{className:"card card-body bg-light mb-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement("img",{src:g(e.bookImage)?a(22):e.bookImage,alt:"",height:"150",width:"200"})),r.a.createElement("div",{className:"col-lg-6 col-md-4 col-8"},r.a.createElement("p",{className:"lead"},"Title: ",e.title),r.a.createElement("p",{className:"lead"},"Author: ",e.author),r.a.createElement("p",{className:"lead"},"Genre: ",e.genre),r.a.createElement("p",{className:"lead"},"Condition: ",e.condition),r.a.createElement("p",{className:"lead"},"Description: ",e.description),r.a.createElement("p",{className:"lead"},"Price: \u20ac",e.price),r.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.addToCart.bind(this,e._id)},"Add Book To Your Cart"))))}}]),t}(n.Component),ke=Object(h.b)(null,{addToCart:J})(Oe),je=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this.props.profile,a=t.user.name.trim().split(" ")[0];return e=t.books.length>0?t.books.map(function(e,a){return r.a.createElement(ke,{key:a,book:e,profile:t})}):r.a.createElement("h4",null,a," has no Books listed for sale"),r.a.createElement("div",{className:"card card-body bg-light mb-3"},r.a.createElement("h3",{className:"text-center text-success"},a,"'s Book's"),e)}}]),t}(n.Component),Ce=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={post:"",errors:{}},a.onChange=a.onChange.bind(Object(K.a)(Object(K.a)(a))),a.onSubmit=a.onSubmit.bind(Object(K.a)(Object(K.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props.auth.user,a=this.props.username,n={post:this.state.post,name:t.name};this.props.addProfilePost(a,n),this.setState({post:""})}},{key:"onChange",value:function(e){this.setState(Object(G.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"post-form mb-3"},r.a.createElement("div",{className:"card card-info"},r.a.createElement("div",{className:"card-header bg-success text-white"},"Review this seller or Post a question..."),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.post}),placeholder:"Write a post to this users profile",name:"post",value:this.state.post,onChange:this.onChange}),e.post&&r.a.createElement("div",{className:"invalid-feedback"},e.post)),r.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Submit")))))}}]),t}(n.Component),we=Object(h.b)(function(e){return{auth:e.auth,errors:e.errors}},{addProfilePost:function(e,t){return function(a){a(H()),R.a.post("/api/profile/posts/"+e,t).then(function(e){return a({type:"ADD_PROFILE_POST",payload:e.data})}).catch(function(e){return a({type:A,payload:e.response.data})})}}})(Ce),Se=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onDeleteClick",value:function(e){var t=this.props.profileId;this.props.deleteProfilePost(t,e)}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.auth,o=e.showActions,l=e.profileId;return r.a.createElement("div",{className:"card card-body mb-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("img",{src:g(t.postImage)?a(21):t.postImage,alt:"",className:"rounded-circle"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{className:"text-center"},t.name)),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("p",{className:"lead"},t.post),o?r.a.createElement("span",null,r.a.createElement(W.a,{to:"/profile-post/"+l+"/"+t._id,className:"btn btn-success mr-1"},"Comments"),t.user===n.user.id?r.a.createElement("button",{className:"btn btn-danger mr-1",type:"button",onClick:this.onDeleteClick.bind(this,t._id)},"Delete Post"):null):null)))}}]),t}(n.Component);Se.defaultProps={showActions:!0};var xe=Object(h.b)(function(e){return{auth:e.auth}},{deleteProfilePost:function(e,t){return function(a){R.a.delete("/api/profile/posts/"+e+"/"+t).then(function(e){a({type:"DELETE_PROFILE_POST",payload:e.data})}).catch(function(e){return a({type:A,payload:e.response.data})})}}})(Se),Pe=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.posts,a=e.profileId;return t.map(function(e){return r.a.createElement(xe,{key:e._id,post:e,profileId:a})})}}]),t}(n.Component),Le=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this.props.profile.profile,a=this.props,n=a.username,o=a.profileId,l=t.user.name.trim().split(" ")[0];return e=t.reviews.length>0?r.a.createElement(Pe,{posts:t.reviews,profileId:o}):r.a.createElement("h4",null,l," has no Reviews yet"),r.a.createElement("div",{className:"card card-body bg-light mb-3"},r.a.createElement("h3",{className:"text-center text-success"},l,"'s Reviews"),r.a.createElement(we,{username:n}),e)}}]),t}(n.Component),Ie=Object(h.b)(function(e){return{profile:e.profile}},{})(Le),Re=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.username&&this.props.getProfileByUsername(this.props.match.params.username)}},{key:"render",value:function(){var e,t=this.props.profile,a=t.profile,n=t.loading;return e=null===a||n?r.a.createElement(me,null):r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("br",null),r.a.createElement("div",{className:"col-md-6"})),r.a.createElement(ye,{profile:a}),r.a.createElement(Ne,{profile:a}),r.a.createElement(je,{profile:a}),r.a.createElement(Ie,{username:a.username,profileId:a._id})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},e)))}}]),t}(n.Component),Te=Object(h.b)(function(e){return{profile:e.profile}},{getProfileByUsername:function(e){return function(t){t(X()),R.a.get("/api/profile/username/"+e).then(function(e){return t({type:"GET_PROFILE",payload:e.data})}).catch(function(e){return t({type:"GET_PROFILE",payload:null})})}}})(Re),Be=(a(77),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={username:"",website:"",location:"",bio:"",facebook:"",twitter:"",youtube:"",linkedin:"",errors:{},profileImage:null},a.onChange=a.onChange.bind(Object(K.a)(Object(K.a)(a))),a.onSubmit=a.onSubmit.bind(Object(K.a)(Object(K.a)(a))),a.onChangeFile=a.onChangeFile.bind(Object(K.a)(Object(K.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getCurrentProfile()}},{key:"componentWillReceiveProps",value:function(e){if(e.errors&&this.setState({errors:e.errors}),e.profile.profile){var t=e.profile.profile;t.website=g(t.website)?"":t.website,t.location=g(t.location)?"":t.location,t.socialLinks=g(t.socialLinks)?{}:t.socialLinks,t.twitter=g(t.socialLinks.twitter)?"":t.socialLinks.twitter,t.facebook=g(t.socialLinks.facebook)?"":t.socialLinks.facebook,t.youtube=g(t.socialLinks.youtube)?"":t.socialLinks.youtube,t.linkedin=g(t.socialLinks.linkedin)?"":t.socialLinks.linkedin,this.setState({username:t.username,profileImage:t.profileImage,website:t.website,location:t.location,bio:t.bio,facebook:t.facebook,twitter:t.twitter,youtube:t.youtube,linkedin:t.linkedin})}}},{key:"onSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,profileImage:this.state.profileImage,website:this.state.website,location:this.state.location,bio:this.state.bio,facebook:this.state.facebook,twitter:this.state.twitter,linkedin:this.state.linkedin,youtube:this.state.youtube};this.props.createProfile(t,this.props.history)}},{key:"onChange",value:function(e){this.setState(Object(G.a)({},e.target.name,e.target.value))}},{key:"onChangeFile",value:function(e){this.setState({profileImage:e.target.files[0]})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement("h1",{className:"display-4 text-center"},"Edit Profile"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.username}),placeholder:"Enter your Username",name:"username",value:this.state.username,onChange:this.onChange}),e.username&&r.a.createElement("div",{className:"invalid-feedback"},e.username)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.website}),placeholder:"Enter your Website",name:"website",value:this.state.website,onChange:this.onChange}),e.website&&r.a.createElement("div",{className:"invalid-feedback"},e.website)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter your Location",name:"location",value:this.state.location,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{type:"text",className:"form-control form-control-lg",placeholder:"Enter your Bio",name:"bio",value:this.state.bio,onChange:this.onChange}),r.a.createElement("small",{className:"d-block pb-3"},"Fill in your Bio to tell your customers about yourself and your products")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleFormControlFile1"},"Upload your Avatar"),r.a.createElement("input",{type:"file",className:"form-control-file",id:"exampleFormControlFile1",name:"profileImage",onChange:this.onChangeFile})),r.a.createElement("div",null,r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fab fa-facebook"}))),r.a.createElement("input",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.facebook}),placeholder:"Enter Facebook URL",name:"facebook",value:this.state.facebook,onChange:this.onChange}),e.facebook&&r.a.createElement("div",{className:"invalid-feedback"},e.facebook))),r.a.createElement("div",null,r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fab fa-twitter"}))),r.a.createElement("input",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.twitter}),placeholder:"Enter Twitter URL",name:"twitter",value:this.state.twitter,onChange:this.onChange}),e.twitter&&r.a.createElement("div",{className:"invalid-feedback"},e.twitter))),r.a.createElement("div",null,r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fab fa-linkedin"}))),r.a.createElement("input",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.linkedin}),placeholder:"Enter LinkedIn URL",name:"linkedin",value:this.state.linkedin,onChange:this.onChange}),e.linkedin&&r.a.createElement("div",{className:"invalid-feedback"},e.linkedin))),r.a.createElement("div",null,r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fab fa-youtube"}))),r.a.createElement("input",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.youtube}),placeholder:"Enter Youtube URL",name:"youtube",value:this.state.youtube,onChange:this.onChange}),e.youtube&&r.a.createElement("div",{className:"invalid-feedback"},e.youtube))),r.a.createElement("input",{type:"submit",value:"Submit",className:"btn btn-success btn-block mt-4"})))))}}]),t}(n.Component)),_e=Object(h.b)(function(e){return{profile:e.profile,errors:e.errors}},{createProfile:V,getCurrentProfile:M})(Object(z.a)(Be)),De=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={title:"",author:"",genre:"",condition:"",price:"",description:"",errors:{},bookImage:null},a.onChange=a.onChange.bind(Object(K.a)(Object(K.a)(a))),a.onSubmit=a.onSubmit.bind(Object(K.a)(Object(K.a)(a))),a.onChangeFile=a.onChangeFile.bind(Object(K.a)(Object(K.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={title:this.state.title,author:this.state.author,genre:this.state.genre,condition:this.state.condition,price:this.state.price,description:this.state.description,bookImage:this.state.bookImage};this.props.listBook(t,this.props.history)}},{key:"onChange",value:function(e){this.setState(Object(G.a)({},e.target.name,e.target.value))}},{key:"onChangeFile",value:function(e){this.setState({bookImage:e.target.files[0]})}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"list-book"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 m-auto"},r.a.createElement(W.a,{to:"/dashboard",className:"btn btn-light"},"Back"),r.a.createElement("h1",{className:"display-4 text-center"},"List Book"),r.a.createElement("small",{className:"d-block pb-3"},"* required fields"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.title}),placeholder:"* Title",name:"title",value:this.state.title,onChange:this.onChange}),e.title&&r.a.createElement("div",{className:"invalid-feedback"},e.title)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.author}),placeholder:"* Author",name:"author",value:this.state.author,onChange:this.onChange}),e.author&&r.a.createElement("div",{className:"invalid-feedback"},e.author)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Genre",name:"genre",value:this.state.genre,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.condition}),placeholder:"* Condition",name:"condition",value:this.state.condition,onChange:this.onChange}),e.condition&&r.a.createElement("div",{className:"invalid-feedback"},e.condition)),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",className:ne()("form-control form-control-lg",{"is-invalid":e.price}),placeholder:"* Price",name:"price",value:this.state.price,onChange:this.onChange}),e.price&&r.a.createElement("div",{className:"invalid-feedback"},e.price)),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{type:"text",className:"form-control form-control-lg",placeholder:"About the Book",name:"description",value:this.state.description,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{forhtml:"exampleFormControlFile3"},"Upload the Book Image"),r.a.createElement("input",{type:"file",className:"form-control-file",id:"exampleFormControlFile3",name:"bookImage",onChange:this.onChangeFile})),r.a.createElement("input",{type:"submit",value:"Submit",className:"btn btn-success btn-block mt-4"}))))))}}]),t}(n.Component),Fe=Object(h.b)(function(e){return{profile:e.profile,errors:e.errors}},{listBook:function(e,t){return function(a){var n=new FormData;n.append("title",e.title),n.append("author",e.author),n.append("genre",e.genre),n.append("condition",e.condition),n.append("price",e.price),n.append("description",e.description),n.append("twitter",e.twitter),n.append("errors",e.errors),n.append("bookImage",e.bookImage),R.a.post("/api/profile/list-book",n,{headers:{"content-type":"multipart/form-data"}}).then(function(e){return t.push("/dashboard")}).catch(function(e){return a({type:A,payload:e.response.data})})}}})(Object(z.a)(De)),Ue=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"addToCart",value:function(e){this.props.addToCart(e.book._id)}},{key:"render",value:function(){var e=this,t=this.props.profile,n=t.books.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,r.a.createElement("div",{className:"w-75 h-75"},r.a.createElement("img",{src:g(t.bookImage)?a(22):t.bookImage,alt:"",height:"100",width:"1"}))),r.a.createElement("td",null,t.title),r.a.createElement("td",null,t.author),r.a.createElement("td",null,t.genre),r.a.createElement("td",null,t.condition),r.a.createElement("td",null,"\u20ac",t.price),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-success btn-cart",onClick:e.addToCart.bind(e,{book:t})},"Add Book To Your Cart")))});return r.a.createElement("div",null,r.a.createElement("h4",{className:"mb-4"}," ",t.username," Books "),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Book Image"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Author"),r.a.createElement("th",null,"Genre"),r.a.createElement("th",null,"Condition"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null)),n)))}}]),t}(n.Component),Ge=Object(h.b)(null,{addToCart:J})(Ue),Ke=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getProfiles()}},{key:"render",value:function(){var e,t=this.props.profile,a=t.profiles,n=t.loading;return e=null===a||n?r.a.createElement(me,null):a.length>0?a.map(function(e){return r.a.createElement(Ge,{key:e._id,profile:e})}):r.a.createElement("h4",null,"No Books found!"),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h1",{className:"display-4 text-center"},"All Books for Sale"),r.a.createElement("p",{className:"lead text-center"},"Browse and Connect with Sellers to find your Favorite Book"),e)}}]),t}(n.Component),We=Object(h.b)(function(e){return{profile:e.profile}},{getProfiles:q})(Ke),Ve=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getCart()}},{key:"removeFromCart",value:function(e){this.props.removeFromCart(e.book._id)}},{key:"render",value:function(){for(var e=this,t=this.props.cart,n=0,o=0;o<t.length;o++)n+=t[o].price;var l=t.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,r.a.createElement("img",{src:g(t.bookImage)?a(22):t.bookImage,alt:"",height:"100",width:".5"})),r.a.createElement("td",null,t.title),r.a.createElement("td",null,t.genre),r.a.createElement("td",null,"\u20ac",t.price),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:e.removeFromCart.bind(e,{book:t})},"Remove Item")))});return r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h1",{className:"display-4 text-center"},"Your Cart"),r.a.createElement("div",null,r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Book Image"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Genre"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null)),l)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement("h4",null," Total Price ")),r.a.createElement("div",{className:"col-6"},r.a.createElement("span",null," \u20ac",n," ")),r.a.createElement("div",{className:"col-6 mt-2 ml-2"},r.a.createElement("a",{href:"https://www.paypal.com/ie/home",className:"btn btn-info",role:"button"},"Pay Now")))))}}]),t}(n.Component),Me=Object(h.b)(function(e){return{cart:e.profile.cart}},{getCart:function(){return function(e){R.a.get("/api/profile/cart").then(function(t){return e({type:"GET_CART",payload:t.data})}).catch(function(t){return e({type:A,payload:t.response.data})})}},removeFromCart:function(e){return function(t){R.a.put("/api/profile/cart/rmv/".concat(e)).then(function(e){return t({type:"REMOVE_BOOK",payload:e.data})}).catch(function(e){return t({type:A,payload:e.response.data})})}}})(Ve),qe=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"addToCart",value:function(e){this.props.addToCart(e.book._id)}},{key:"render",value:function(){var e=this.props.book;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",{className:"w-50 h-50"},r.a.createElement("img",{src:g(e.bookImage)?a(22):e.bookImage,alt:""}))),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.author),r.a.createElement("td",null,e.genre),r.a.createElement("td",null,e.condition),r.a.createElement("td",null,"\u20ac",e.price),r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-success btn-cart",onClick:this.addToCart.bind(this,{book:e})},"Add Book To Your Cart")))}}]),t}(n.Component),Je=Object(h.b)(null,{addToCart:J})(qe),Xe=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t=this.props.profile,a=t.loading,n=t.books;return null===n||a?r.a.createElement(me,null):n.length>0?(e=n.map(function(e){return e.map(function(e){return r.a.createElement(Je,{key:e._id,book:e})})}),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h1",{className:"display-4 text-center"},"Your search"),r.a.createElement("p",{className:"lead text-center"},"Browse and Connect with Sellers to find your Favorite Book"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Book Image"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Author"),r.a.createElement("th",null,"Genre"),r.a.createElement("th",null,"Condition"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null)),e)))):r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h1",{className:"display-4 text-center"},"Your search"),r.a.createElement("p",{className:"lead text-center"},"Browse and Connect with Sellers to find your Favorite Book"),r.a.createElement("h4",{className:"my-4 "},"No Books found!"))}}]),t}(n.Component),Qe=Object(h.b)(function(e){return{profile:e.profile}},null)(Xe),He=function(){return{type:"POST_LOADING"}},Ye=function(){return{type:"CLEAR_ERRORS"}},ze=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={post:"",errors:{}},a.onChange=a.onChange.bind(Object(K.a)(Object(K.a)(a))),a.onSubmit=a.onSubmit.bind(Object(K.a)(Object(K.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props.auth.user,a={post:this.state.post,name:t.name};this.props.addPost(a),this.setState({post:""})}},{key:"onChange",value:function(e){this.setState(Object(G.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"post-form mb-3"},r.a.createElement("div",{className:"card card-info"},r.a.createElement("div",{className:"card-header bg-success text-white"},"Advertise your Latest Books..."),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.post}),placeholder:"Create a post for all users to see",name:"post",value:this.state.post,onChange:this.onChange}),e.post&&r.a.createElement("div",{className:"invalid-feedback"},e.post)),r.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Submit")))))}}]),t}(n.Component),Ze=Object(h.b)(function(e){return{auth:e.auth,errors:e.errors}},{addPost:function(e){return function(t){t(Ye()),R.a.post("/api/posts",e).then(function(e){t({type:"ADD_POST",payload:e.data})}).catch(function(e){return t({type:A,payload:e.response.data})})}}})(ze),$e=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onDeleteClick",value:function(e){this.props.deletePost(e)}},{key:"render",value:function(){var e=this.props,t=e.post,n=e.auth,o=e.showActions;return r.a.createElement("div",{className:"card card-body mb-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("img",{src:g(t.postImage)?a(21):t.postImage,alt:"",className:"rounded-circle"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{className:"text-center"},t.name)),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("p",{className:"lead"},t.post),o?r.a.createElement("span",null,r.a.createElement(W.a,{to:"/post/".concat(t._id),className:"btn btn-success mr-1"},"Comments"),t.user===n.user.id?r.a.createElement("button",{className:"btn btn-danger mr-1",type:"button",onClick:this.onDeleteClick.bind(this,t._id)},"Delete Post"):null):null)))}}]),t}(n.Component);$e.defaultProps={showActions:!0};var et=Object(h.b)(function(e){return{auth:e.auth}},{deletePost:function(e){return function(t){R.a.delete("/api/posts/"+e).then(function(a){t({type:"DELETE_POST",payload:e})}).catch(function(e){return t({type:A,payload:e.response.data})})}}})($e),tt=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.posts.map(function(e){return r.a.createElement(et,{key:e._id,post:e})})}}]),t}(n.Component),at=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getPosts()}},{key:"render",value:function(){var e,t=this.props.post,a=t.posts,n=t.loading;return e=null===a||n?r.a.createElement(me,null):r.a.createElement(tt,{posts:a}),r.a.createElement("div",{className:"posts"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(Ze,null),e))))}}]),t}(n.Component),nt=Object(h.b)(function(e){return{post:e.post}},{getPosts:function(){return function(e){e(He()),R.a.get("/api/posts").then(function(t){e({type:"GET_POSTS",payload:t.data})}).catch(function(t){return e({type:"GET_POSTS",payload:null})})}}})(at),rt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={post:"",errors:{}},a.onChange=a.onChange.bind(Object(K.a)(Object(K.a)(a))),a.onSubmit=a.onSubmit.bind(Object(K.a)(Object(K.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props.auth.user,a=this.props.postId,n={post:this.state.post,name:t.name};this.props.addComment(a,n),this.setState({post:""})}},{key:"onChange",value:function(e){this.setState(Object(G.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"post-form mb-3"},r.a.createElement("div",{className:"card card-info"},r.a.createElement("div",{className:"card-header bg-success text-white"},"Add a comment"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.post}),placeholder:"Comment on this post...",name:"post",value:this.state.post,onChange:this.onChange}),e.post&&r.a.createElement("div",{className:"invalid-feedback"},e.post)),r.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Submit")))))}}]),t}(n.Component),ot=Object(h.b)(function(e){return{auth:e.auth,errors:e.errors}},{addComment:function(e,t){return function(a){a(Ye()),R.a.post("/api/posts/comment/"+e,t).then(function(e){a({type:"GET_POST",payload:e.data})}).catch(function(e){return a({type:A,payload:e.response.data})})}}})(rt),lt=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onDeleteClick",value:function(e,t){this.props.deleteComment(e,t)}},{key:"render",value:function(){var e=this.props,t=e.comment,n=e.postId,o=e.auth;return r.a.createElement("div",{className:"card card-body mb-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("img",{src:g(t.postImage)?a(21):t.postImage,alt:"",className:"rounded-circle"}),r.a.createElement("br",null),r.a.createElement("p",{className:"text-center"},t.name)),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("p",{className:"lead"},t.post),t.user===o.user.id?r.a.createElement("button",{className:"btn btn-danger mr-1",type:"button",onClick:this.onDeleteClick.bind(this,n,t._id)},"Delete Comment"):null)))}}]),t}(n.Component),ct=Object(h.b)(function(e){return{auth:e.auth}},{deleteComment:function(e,t){return function(a){R.a.delete("/api/posts/comment/"+e+"/"+t).then(function(e){a({type:"GET_POST",payload:e.data})}).catch(function(e){return a({type:A,payload:e.response.data})})}}})(lt),st=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.comments,a=e.postId;return t.map(function(e){return r.a.createElement(ct,{key:e._id,comment:e,postId:a})})}}]),t}(n.Component),it=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getPost(this.props.match.params.id)}},{key:"render",value:function(){var e,t=this.props.post,a=t.post,n=t.loading;return e=null===a||n||0===Object.keys(a).length?r.a.createElement(me,null):r.a.createElement("div",null,r.a.createElement(et,{post:a,showActions:!1}),r.a.createElement(ot,{postId:a._id}),r.a.createElement(st,{postId:a._id,comments:a.comments})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(W.a,{to:"/posts",className:"btn btn-dark mb-3"},"Back to Buyers Feed"),e)))}}]),t}(n.Component),mt=Object(h.b)(function(e){return{post:e.post}},{getPost:function(e){return function(t){t(He()),R.a.get("/api/posts/"+e).then(function(e){t({type:"GET_POST",payload:e.data})}).catch(function(e){return t({type:"GET_POST",payload:null})})}}})(it),ut=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.post;e.auth;return r.a.createElement("div",{className:"card card-body mb-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("img",{src:g(t.postImage)?a(21):t.postImage,alt:"",className:"rounded-circle"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",{className:"text-center"},t.name)),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("p",{className:"lead"},t.post))))}}]),t}(n.Component),pt=Object(h.b)(function(e){return{auth:e.auth}},{})(ut),dt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={post:"",errors:{}},a.onChange=a.onChange.bind(Object(K.a)(Object(K.a)(a))),a.onSubmit=a.onSubmit.bind(Object(K.a)(Object(K.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"onSubmit",value:function(e){e.preventDefault();var t=this.props.auth.user,a=this.props,n=a.profileId,r=a.postId,o={post:this.state.post,name:t.name};this.props.addProfileComment(n,r,o),this.setState({post:""})}},{key:"onChange",value:function(e){this.setState(Object(G.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"post-form mb-3"},r.a.createElement("div",{className:"card card-info"},r.a.createElement("div",{className:"card-header bg-success text-white"},"Add a comment"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{type:"text",className:ne()("form-control form-control-lg",{"is-invalid":e.post}),placeholder:"Comment on this post...",name:"post",value:this.state.post,onChange:this.onChange}),e.post&&r.a.createElement("div",{className:"invalid-feedback"},e.post)),r.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Submit")))))}}]),t}(n.Component),bt=Object(h.b)(function(e){return{auth:e.auth,errors:e.errors}},{addProfileComment:function(e,t,a){return function(n){R.a.post("/api/profile/profile-comment/"+e+"/"+t,a).then(function(e){return n({type:"ADD_PROFILE_COMMENT",payload:e.data})}).catch(function(e){return n({type:A,payload:e.response.data})})}}})(dt),ht=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onDeleteClick",value:function(e,t,a){this.props.deleteProfileComment(e,t,a)}},{key:"render",value:function(){var e=this.props,t=e.comment,n=e.postId,o=e.auth,l=e.profileId;return r.a.createElement("div",{className:"card card-body mb-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("img",{src:g(t.postImage)?a(21):t.postImage,alt:"",className:"rounded-circle"}),r.a.createElement("br",null),r.a.createElement("p",{className:"text-center"},t.name)),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("p",{className:"lead"},t.post),t.user===o.user.id?r.a.createElement("button",{className:"btn btn-danger mr-1",type:"button",onClick:this.onDeleteClick.bind(this,l,n,t._id)},"Delete Comment"):null)))}}]),t}(n.Component),ft=Object(h.b)(function(e){return{auth:e.auth}},{deleteProfileComment:function(e,t,a){return function(n){R.a.delete("/api/profile/profile-comment/"+e+"/"+t+"/"+a).then(function(e){n({type:"DELETE_PROFILE_COMMENT",payload:e.data})}).catch(function(e){return n({type:A,payload:e.response.data})})}}})(ht),Et=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.comments,a=e.postId,n=e.profileId;return t.map(function(e){return r.a.createElement(ft,{key:e._id,comment:e,postId:a,profileId:n})})}}]),t}(n.Component),vt=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.profile.profile;null!==e?this.props.getProfilePost(e._id,this.props.match.params.id):this.props.history.go(-1)}},{key:"render",value:function(){var e,t=this.props.profile,a=t.post,n=t.loading,o=t.profile;return e=null===a||n||0===Object.keys(a).length?r.a.createElement(me,null):r.a.createElement("div",null,r.a.createElement(pt,{profileId:o._id,post:a,showActions:!1}),r.a.createElement(bt,{profileId:o._id,postId:a._id}),r.a.createElement(Et,{profileId:o._id,postId:a._id,comments:a.comments})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},e)))}}]),t}(n.Component),At=Object(h.b)(function(e){return{post:e.post,profile:e.profile}},{getProfilePost:function(e,t){return function(a){a(Y()),R.a.get("/api/profile/profile-post/"+e+"/"+t).then(function(e){a({type:"GET_PROFILE_POST",payload:e.data})}).catch(function(e){return a({type:"GET_PROFILE_POST",payload:null})})}}})(Object(z.a)(vt));if(localStorage.jwtToken){T(localStorage.jwtToken);var gt=L()(localStorage.jwtToken);x.dispatch(B(gt));var yt=Date.now()/1e3;gt.exp<yt&&(x.dispatch(_()),x.dispatch({type:"CLEAR_CURRENT_PROFILE"}),window.location.href="/login")}var Nt=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,{store:x},r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement($,null),r.a.createElement(d.a,{exact:!0,path:"/",component:te}),r.a.createElement("div",{className:"container"},r.a.createElement(d.a,{exact:!0,path:"/login",component:oe}),r.a.createElement(d.a,{exact:!0,path:"/register",component:ce}),r.a.createElement(d.a,{exact:!0,path:"/profiles",component:ge}),r.a.createElement(d.a,{exact:!0,path:"/profile/:username",component:Te}),r.a.createElement(b.a,null,r.a.createElement(U,{exact:!0,path:"/dashboard",component:he})),r.a.createElement(b.a,null,r.a.createElement(U,{exact:!0,path:"/create-profile",component:Ee})),r.a.createElement(b.a,null,r.a.createElement(U,{exact:!0,path:"/edit-profile",component:_e})),r.a.createElement(b.a,null,r.a.createElement(U,{exact:!0,path:"/list-book",component:Fe})),r.a.createElement(b.a,null,r.a.createElement(U,{exact:!0,path:"/all-books",component:We})),r.a.createElement(b.a,null,r.a.createElement(U,{exact:!0,path:"/posts",component:nt})),r.a.createElement(b.a,null,r.a.createElement(U,{exact:!0,path:"/post/:id",component:mt})),r.a.createElement(b.a,null,r.a.createElement(U,{exact:!0,path:"/profile-post/:profileId/:id",component:At})),r.a.createElement(b.a,null,r.a.createElement(U,{exact:!0,path:"/cart",component:Me})),r.a.createElement(b.a,null,r.a.createElement(U,{exact:!0,path:"/search",component:Qe}))),r.a.createElement(ee,null))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Nt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[45,1,2]]]);
//# sourceMappingURL=main.a26ee872.chunk.js.map